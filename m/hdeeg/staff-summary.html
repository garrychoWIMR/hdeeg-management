<div id=D__ID>
	<!--third html start -->
	<div class="container mt-95 mb-3">
		<div class="row">
			<!-- form container start -->
			<div class="col-12 col-lg-12 col-md-12 col-sm-12 mx-auto formbox">
				<div class="row">
					<div class="col-12">
						<!-- form start -->
						<form id="F__ID">
							<h3>Summary of <input type="text" name=s_name id=s_name__ID style="background:transparent;color:#fff;border-style:none;" disabled></h3>
								<div>
								<div class="form-group ">
									<div class="questiongroup ">
										<fieldset class="subquestions">
											<div class="row">
												<div class="col-lg-3 col-sm-12">
													<div><label><span class="">Staff Member:</span></label></div>
													<div class="input-group-sm">
													<input type="text" class=text name=s_name id= s_name__ID disabled>
												</div>
												</div>
												<div class="col-lg-3 col-sm-12">
													<div><label><span class="">Role</span></label></div>
													<div class="input-group-sm">
													<input type="text" name=position id=position__ID  disabled>
												</div>
												</div>
												<div class="col-lg-3 col-sm-12">
													<div><label><span class="">Active Staff?</span></label></div>
													<div class="input-group-sm">
														<input type="text" class=radio name=a_staff id=a_staff__ID disabled>
													</div>
												</div>
											</div>
											</div>
										</fieldset>
									</div>
								</div>
							<div>
							<!---Start-->
								<div class="form-group ">
									<div class="questiongroup ">
										<fieldset class="subquestions">
											<div class="row">
												<div class="col-lg-12 col-sm-12">
													<div><label><span class="">Studies Assigned</span></label></div>
													<div class="input-group-lg ">
														<textarea class="form-control" style="height:120px" name=allstudy id=allstudy__ID disabled></textarea>
													</div>
												</div>
												</div>
										</fieldset>
									</div>
								</div>
								<div>
								<!---end-->
							
								<!---Start-->
				<div id=table__ID>
				</div>
									<!---end-->
								</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	
	
	
	
	
	</div>

	


    <script>
		function textAreaAdjust__ID(o) {
			//console.log(o)
			o.style.height = "1px";
			o.style.height = (25+o.scrollHeight)+"px";
		}
			//-------------------------------------
    	function F__ID(){
			//-------------------------------------
			VmInclude:__COMPONENT__/f/form.01.js
			//-------------------------------------
		//----------------------
				$('#D__ID').on('load',function(){

				if ($('#position__ID').val()=="Researcher"){
					var parent=m.input.record;
					var name=parent.Data.s_name;
					$vm.request({api:undefined,cmd:'find',table:'training-setup',query:{"Data.staff":name} },function(res){
						var records=res.result;
						
						var txt="<table style='width:800px;margin:30px;'>"
						txt+="<tr>"
							txt+="<th>No. of observations</th><th>Assisted Setups</th><th>Amplifier Setup</th><th>Net Setup</th><th>PSG Setup</th><th>Net Removal</th><th>Geoscan</th><th>Netstation Acquisition</th><th>KDT Administration</th><th>Neurocognitive Tasks Administration</th><th>MSLT</th><th>MWT</th><th>Event Related Potentials</th><th>Back Up Process</th><th>Netstation PSG Pre-Processing</th>"
						txt+="</tr>"
						
						for(var i=0;i<records.length;i++){
							var c1 = records[i].Data["obs"];
							var c2 = records[i].Data["assisted_setup"];
							var c3 = records[i].Data["amp_setup"];
							var c4 = records[i].Data["net_setup"];
							var c5 = records[i].Data["psg_setup"];
							var c6 = records[i].Data["net_remove"];
							var c7 = records[i].Data["geoscan"];
							var c8 = records[i].Data["netstat_acq"];
							var c9 = records[i].Data["kdt"];
							var c10 = records[i].Data["neurocog"];
							var c11 = records[i].Data["mslt"];
							var c12 = records[i].Data["mwt"];
							var c13 = records[i].Data["erp"];
							var c14 = records[i].Data["backup"];
							var c15 = records[i].Data["ns_psg_preproc"];
							var c16 = records[i].Data["ns_kdt_preproc"];
							var c17 = records[i].Data["pr_psg_preproc"];
							var c18 = records[i].Data["pr_kdt_preproc"];
							var c19 = records[i].Data["uwm_preproc"];
							var c20 = records[i].Data["bids_preproc"];
							var c21 = records[i].Data["qeeg_proc"];
							var c22 = records[i].Data["gcp"];
							var c23 = records[i].Data["venep"];
							var c24 = records[i].Data["scoring"];
							var c25 = records[i].Data["hm_build"];
						}				
							txt+="<tr>"
							txt+="<td id='c1'>"+c1+"</td><td id='c2'>"+c2+"</td><td id='c3'>"+c3+"</td><td id='c4'>"+c4;
							txt+="</td><td id='c5'>"+c5+"</td><td id='c6'>"+c6+"</td><td id='c7'>"+c7;
							txt+="</td><td id='c8'>"+c8+"</td><td id='c9'>"+c9+"</td><td id='c10'>"+c10;
							txt+="</td><td id='c11'>"+c11+"</td><td id='c12'>"+c12+"</td><td id='c13'>"+c13;
							txt+="</td><td id='c14'>"+c14+"</td><td id='c15'>"+c15+"</td></tr>"
							
							
							txt+="<tr><th>Netstation KDT Pre-processing</th><th>PSG PRANA Processing </th><th>KDT PRANA Processing </th><th>UWM  Preprocessing</th><th>BIDS Processing</th><th>QEEG Processing</th><th>GCP</th><th>Venepuncture</th><th>Scoring</th><th>Head Model Building</th></tr>"
							
							
							txt+="<tr><td id='c16'>"+c16+"</td><td id='c17'>"+c17+"</td><td id='c18'>"+c18+"</td><td id='c19'>"+c19+"</td><td id='c20'>"+c20+"</td><td id='c21'>"+c21+"</td><td id='c22'>"+c22+"</td><td id='c23'>"+c23+"</td><td id='c24'>"+c24+"</td><td id='c25'>"+c25+"</td>"
						
							txt+="</tr>"						
						
						txt+="</table>"
								$('#table__ID').html(txt);

	//-------------------------------------------
				for (var d = 2; d < 26; d++) {
					console.log([d])
						var cd =eval("c"+[d])
						// console.log(cd)
						var ccd =String("#c"+[d])
						// console.log(ccd)
						// console.log(typeof(ccd))

					// alert("C"+[d]+" is a " + typeof(cd))
					if (cd == "1") {
					$(ccd).css("background-color", "#ffc299")
					console.log("c" + [d] + " equals 1")
					}
					else
					if (cd == "2") {
					$(ccd).css("background-color", "#ff8533")
					console.log("c" + [d] + " equals  2")
					}
					else
					if (cd == "3") {
					$(ccd).css("background-color", "#ffff99")
					console.log("c" + [d] + " equals 3")
					}
					else
					if (cd == "4") {
					$(ccd).css("background-color", "#ffff33")
					console.log("c" + [d] + " equals 4")
					}
					else
					if (cd == "5") {
					$(ccd).css("background-color", "#00cc00")
					console.log("c" + [d] + " equals 5")
							}
			else{
				$(ccd).css("background-color", "#ff0000")
				console.log("c"+[d]+ " equals nothing")
			}
		}
//---------------------------------------
							})
					}
//---------------------------------------

				else{
					var parent=m.input.record;
					var name=parent.Data.s_name;
					$vm.request({api:undefined,cmd:'find',table:'training-setup',query:{"Data.staff":name} },function(res){
						var records=res.result;
						
						var txt="<table style='width:800px;margin:30px;'>"
						txt+="<tr>"
							txt+="<th>SLEEEPTECHSSS ONEEEEENo. of observations</th><th>Assisted Setups</th><th>Amplifier Setup</th><th>Net Setup</th><th>PSG Setup</th><th>Net Removal</th><th>Geoscan</th><th>Netstation Acquisition</th><th>KDT Administration</th><th>Neurocognitive Tasks Administration</th><th>MSLT</th><th>MWT</th><th>Event Related Potentials</th><th>Back Up Process</th><th>Netstation PSG Pre-Processing</th>"
						txt+="</tr>"
						
						for(var i=0;i<records.length;i++){
							var c1 = records[i].Data["obs"];
							var c2 = records[i].Data["assisted_setup"];
							var c3 = records[i].Data["amp_setup"];
							var c4 = records[i].Data["net_setup"];
							var c5 = records[i].Data["psg_setup"];
							var c6 = records[i].Data["net_remove"];
							var c7 = records[i].Data["geoscan"];
							var c8 = records[i].Data["netstat_acq"];
							var c9 = records[i].Data["kdt"];
							var c10 = records[i].Data["neurocog"];
							var c11 = records[i].Data["mslt"];
							var c12 = records[i].Data["mwt"];
							var c13 = records[i].Data["erp"];
							var c14 = records[i].Data["backup"];
							var c15 = records[i].Data["ns_psg_preproc"];
							var c16 = records[i].Data["ns_kdt_preproc"];
							var c17 = records[i].Data["pr_psg_preproc"];
							var c18 = records[i].Data["pr_kdt_preproc"];
							var c19 = records[i].Data["uwm_preproc"];
							var c20 = records[i].Data["bids_preproc"];
							var c21 = records[i].Data["qeeg_proc"];
							var c22 = records[i].Data["gcp"];
							var c23 = records[i].Data["venep"];
							var c24 = records[i].Data["scoring"];
							var c25 = records[i].Data["hm_build"];
								}
						


							txt+="<tr>"
							txt+="<td id='c1'>"+c1+"</td><td id='c2'>"+c2+"</td><td id='c3'>"+c3+"</td><td id='c4'>"+c4;
							txt+="</td><td id='c5'>"+c5+"</td><td id='c6'>"+c6+"</td><td id='c7'>"+c7;
							txt+="</td><td id='c8'>"+c8+"</td><td id='c9'>"+c9+"</td><td id='c10'>"+c10;
							txt+="</td><td id='c11'>"+c11+"</td><td id='c12'>"+c12+"</td><td id='c13'>"+c13;
							txt+="</td><td id='c14'>"+c14+"</td><td id='c15'>"+c15+"</td></tr>"
							txt+="<tr><th>Netstation KDT Pre-processing</th><th>PSG PRANA Processing </th><th>KDT PRANA Processing </th><th>UWM  Preprocessing</th><th>BIDS Processing</th><th>QEEG Processing</th><th>GCP</th><th>Venepuncture</th><th>Scoring</th><th>Head Model Building</th></tr>"
							txt+="<tr><td id='c16'>"+c16+"</td><td id='c17'>"+c17+"</td><td id='c18'>"+c18+"</td><td id='c19'>"+c19+"</td><td id='c20'>"+c20+"</td><td id='c21'>"+c21+"</td><td id='c22'>"+c22+"</td><td id='c23'>"+c23+"</td><td id='c24'>"+c24+"</td><td id='c25'>"+c25+"</td>"
						
						txt+="</tr>"						
						txt+="</table>"
						$('#table__ID').html(txt);
		
			
		//-------------------------------
			for (var d = 2; d < 26; d++) {
							console.log([d])
							var cd = eval("c" + [d])
							// console.log(cd)
							var ccd = String("#c" + [d])
							// console.log(ccd)
							// console.log(typeof(ccd))

							// alert("C"+[d]+" is a " + typeof(cd))
							if (cd == "1") {
								$(ccd).css("background-color", "#ffc299")
								console.log("c" + [d] + " equals 1")
							}
							else
								if (cd == "2") {
									$(ccd).css("background-color", "#ff8533")
									console.log("c" + [d] + " equals  2")
								}
								else
									if (cd == "3") {
										$(ccd).css("background-color", "#ffff99")
										console.log("c" + [d] + " equals 3")
									}
									else
										if (cd == "4") {
											$(ccd).css("background-color", "#ffff33")
											console.log("c" + [d] + " equals 4")
										}
										else
											if (cd == "5") {
												$(ccd).css("background-color", "#00cc00")
												console.log("c" + [d] + " equals 5")
											}
											else {
												$(ccd).css("background-color", "#ff0000")
												console.log("c" + [d] + " equals nothing")
											}
						}



//----------------------------------
					})
				}



//--------------------------------
    })
	}
		
		</script>
    <style>
        VmInclude:__CURRENT_PATH__/wappsystem-form.css
        #form_container__ID{
            max-width:800px;
        }
		table tr th{ 
			border-color:#000;
			border-style:solid;
			border-width:1px;
			max-width:800px;
			font-size:10px;
		}
		td{
			text-align:center;
			border-color:#000;
			border-style:solid;
			border-width:1px;
			width:10px;
			font-size:10px;
			background-color:#fff;
		
		}


		
		</style>
</div>		